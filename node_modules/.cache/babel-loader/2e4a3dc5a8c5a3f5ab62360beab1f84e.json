{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport { withTranslation } from 'react-i18next';\nimport NavBar from './Components/NavBar';\nimport Login from './Components/Login';\nimport Landing from './Components/Landing';\nimport Form from './Components/Form/Form';\nimport Spreadsheet from './Components/Spreadsheet/Spreadsheet';\nimport Analytics from './Components/Analytics/Analytics';\nimport './App.css';\nimport * as constant from './Components/Form/constant';\nimport Loader from './Components/Loader';\n\nconst axios = require('axios');\n\nconst dinamicRoute = window.location.host.includes(\"localhost\") ? constant.LOCAL_GET : constant.PROD_GET;\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.updateUser = name => {\n      this.setState({\n        userName: name\n      });\n    };\n\n    this.updateNavBar = location => {\n      this.setState({\n        location: location\n      });\n    };\n\n    this.changeLanguage = () => {\n      const {\n        i18n\n      } = this.props;\n\n      if (this.state.lng === \"en\") {\n        i18n.changeLanguage(\"es\");\n        return this.setState({\n          lng: \"es\"\n        });\n      } else {\n        i18n.changeLanguage(\"en\");\n        return this.setState({\n          lng: \"en\"\n        });\n      }\n    };\n\n    this.isLoggedIn = () => localStorage.getItem(\"isLoggedIn\") || this.state.userName;\n\n    this.logOut = () => {\n      this.setState({\n        isLoggedIn: false,\n        userName: '',\n        lng: \"en\"\n      });\n      localStorage.removeItem('isLoggedIn');\n    };\n\n    this.state = {\n      location: \"\",\n      userName: \"\",\n      lng: \"en\",\n      loadingData: true\n    };\n  }\n\n  componentDidMount() {\n    if (navigator.onLine) {\n      let savedForms = JSON.parse(localStorage.getItem('savedForms') || \"[]\");\n\n      if (savedForms.length < 1) {\n        this.setState({\n          loadingData: false\n        });\n        return;\n      }\n\n      axios.post(`${dinamicRoute}/mega-forms`, savedForms).then(response => {\n        localStorage.removeItem('savedForms');\n        console.log('Sent saved forms to DB');\n        this.setState({\n          loadingData: false\n        });\n      });\n    } else {\n      console.log('there isnt anything sooo...');\n      this.setState({\n        loadingData: false\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      location: this.state.location,\n      logOut: this.logOut,\n      name: this.state.userName,\n      updateNavBar: this.updateNavBar,\n      lng: this.state.lng,\n      changeLanguage: this.changeLanguage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), this.state.loadingData ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 37\n      }\n    }) : null, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: () => this.isLoggedIn() ? /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }\n      }) : /*#__PURE__*/React.createElement(Login, {\n        updateUser: this.updateUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/home\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(Landing, {\n        updateNavBar: this.updateNavBar,\n        isLoggedIn: this.isLoggedIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/form\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(Form, {\n        updateNavBar: this.updateNavBar,\n        isLoggedIn: this.isLoggedIn,\n        saveForm: this.saveForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/spread\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(Spreadsheet, {\n        updateNavBar: this.updateNavBar,\n        isLoggedIn: this.isLoggedIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/analytics\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(Analytics, {\n        updateNavBar: this.updateNavBar,\n        isLoggedIn: this.isLoggedIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}\n\nexport default withTranslation('translation')(App);","map":{"version":3,"sources":["C:/Users/corne/Unsyncro/WorkOfficeFREE/CodingLab/challenge0921/src/App.js"],"names":["React","Component","BrowserRouter","Route","Redirect","withTranslation","NavBar","Login","Landing","Form","Spreadsheet","Analytics","constant","Loader","axios","require","dinamicRoute","window","location","host","includes","LOCAL_GET","PROD_GET","App","constructor","updateUser","name","setState","userName","updateNavBar","changeLanguage","i18n","props","state","lng","isLoggedIn","localStorage","getItem","logOut","removeItem","loadingData","componentDidMount","navigator","onLine","savedForms","JSON","parse","length","post","then","response","console","log","render","saveForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\r\nimport { withTranslation } from 'react-i18next';\r\nimport NavBar from './Components/NavBar';\r\nimport Login from './Components/Login';\r\nimport Landing from './Components/Landing';\r\nimport Form from './Components/Form/Form';\r\nimport Spreadsheet from './Components/Spreadsheet/Spreadsheet';\r\nimport Analytics from './Components/Analytics/Analytics';\r\nimport './App.css';\r\nimport * as constant from './Components/Form/constant'\r\nimport Loader from './Components/Loader';\r\nconst axios = require('axios')\r\nconst dinamicRoute = window.location.host.includes(\"localhost\") ? constant.LOCAL_GET : constant.PROD_GET\r\n\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      location: \"\",\r\n      userName: \"\",\r\n      lng: \"en\",\r\n      loadingData: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (navigator.onLine) {\r\n      let savedForms = JSON.parse(localStorage.getItem('savedForms') || \"[]\")\r\n\r\n      if (savedForms.length < 1) {\r\n        this.setState({ loadingData: false })\r\n        return\r\n      }\r\n\r\n      axios.post(`${dinamicRoute}/mega-forms`, savedForms).then((response) => {\r\n        localStorage.removeItem('savedForms')\r\n        console.log('Sent saved forms to DB')\r\n        this.setState({ loadingData: false })\r\n      })\r\n    }\r\n    else {\r\n      console.log('there isnt anything sooo...')\r\n      this.setState({ loadingData: false })\r\n    }\r\n  }\r\n\r\n  updateUser = (name) => {\r\n    this.setState({\r\n      userName: name\r\n    })\r\n  }\r\n  updateNavBar = (location) => {\r\n    this.setState({\r\n      location: location\r\n    })\r\n  }\r\n\r\n  changeLanguage = () => {\r\n    const { i18n } = this.props;\r\n    if (this.state.lng === \"en\") {\r\n\r\n      i18n.changeLanguage(\"es\");\r\n      return this.setState({ lng: \"es\" })\r\n    } else {\r\n      i18n.changeLanguage(\"en\")\r\n      return this.setState({ lng: \"en\" })\r\n    }\r\n  };\r\n\r\n  isLoggedIn = () => localStorage.getItem(\"isLoggedIn\") || this.state.userName\r\n\r\n  logOut = () => {\r\n    this.setState({\r\n      isLoggedIn: false,\r\n      userName: '',\r\n      lng: \"en\"\r\n    })\r\n    localStorage.removeItem('isLoggedIn')\r\n  }\r\n\r\n  render() {\r\n\r\n    return (<>\r\n      <div>\r\n\r\n        <BrowserRouter>\r\n\r\n          <NavBar location={this.state.location}\r\n            logOut={this.logOut}\r\n            name={this.state.userName}\r\n            updateNavBar={this.updateNavBar}\r\n            lng={this.state.lng}\r\n            changeLanguage={this.changeLanguage}>\r\n\r\n          </NavBar>\r\n\r\n          {this.state.loadingData ? <Loader /> : null}\r\n\r\n\r\n          <Route path=\"/\" exact render={() =>\r\n            (this.isLoggedIn() ?\r\n              <Redirect to=\"/home\" /> :\r\n              <Login updateUser={this.updateUser} />)}>\r\n          </Route>\r\n\r\n          <Route path=\"/home\" exact render={() =>\r\n            <Landing updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} />}>\r\n          </Route>\r\n\r\n          <Route path=\"/form\" exact render={() =>\r\n            <Form updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} saveForm={this.saveForm} />}>\r\n          </Route>\r\n\r\n          <Route path=\"/spread\" exact render={() =>\r\n            <Spreadsheet updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} />}>\r\n          </Route>\r\n\r\n          <Route path=\"/analytics\" exact render={() =>\r\n            <Analytics updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} />}>\r\n          </Route>\r\n\r\n        </BrowserRouter>\r\n\r\n      </div></>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default withTranslation('translation')(App);"]},"metadata":{},"sourceType":"module"}