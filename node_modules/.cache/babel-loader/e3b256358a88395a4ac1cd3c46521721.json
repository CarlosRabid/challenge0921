{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ShiftInput from'./ShiftInput';import Turtle from'./Turtle';import NestInput from'./NestInput';import Button from'@material-ui/core/Button';import'./form.css';import{withTranslation}from'react-i18next';import{Typography}from'@material-ui/core';import ExpansionPanel from'@material-ui/core/ExpansionPanel';import ExpansionPanelSummary from'@material-ui/core/ExpansionPanelSummary';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSave}from'@fortawesome/free-solid-svg-icons';import BeachLocations from'./BeachLocations';import Comments from'./ObservationComments';import{Redirect}from'react-router-dom';import*as constant from'./constant';var axios=require('axios');var dinamicRoute=window.location.host.includes(\"localhost\")?constant.LOCAL_GET:constant.PROD_GET;var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.handleBeachInput=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(input){var locationLatitude,locationLongitude,selectedBeach;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:locationLatitude=_objectSpread({},_this.state.locationLatitude);locationLongitude=_objectSpread({},_this.state.locationLongitude);selectedBeach=_objectSpread({},_this.state.selectedBeach);locationLatitude=input.locationLatitude;locationLongitude=input.locationLongitude;selectedBeach=input.selectedBeach;_context.next=8;return _this.setState({locationLatitude:locationLatitude,locationLongitude:locationLongitude,selectedBeach:selectedBeach});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleSpecies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(input){var species;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:species=_objectSpread({},_this.state.species);species=input;_context2.next=4;return _this.setState({species:species});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handleCondition=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(input){var conditionstage,conditionstat;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:conditionstage=_objectSpread({},_this.state.conditionstage);conditionstat=_objectSpread({},_this.state.conditionstat);conditionstage=input;conditionstat=input.charAt(0)==\"a\"?'Alive':'Death';_context3.next=6;return _this.setState({conditionstage:conditionstage,conditionstat:conditionstat});case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();_this.handleName=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(first,last){var firstName,lastName;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:firstName=_objectSpread({},_this.state.firstName);lastName=_objectSpread({},_this.state.lastName);firstName=first;lastName=last;_context4.next=6;return _this.setState({firstName:firstName,lastName:lastName});case 6:localStorage.setItem('firstName',_this.state.firstName);localStorage.setItem('lastName',_this.state.lastName);case 8:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4,_x5){return _ref4.apply(this,arguments);};}();_this.handleDimentions=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id,value){var key;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:key=id;_context5.next=3;return _this.setState(_defineProperty({},key,value));case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x6,_x7){return _ref5.apply(this,arguments);};}();_this.handleDate=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(first,last){var date,time;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:date=_objectSpread({},_this.state.date);time=_objectSpread({},_this.state.time);date=first;time=last;_context6.next=6;return _this.setState({date:date,time:time});case 6:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x8,_x9){return _ref6.apply(this,arguments);};}();_this.handleShift=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(input){var firstName,lastName,date,time;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:firstName=_objectSpread({},_this.state.firstName);lastName=_objectSpread({},_this.state.lastName);date=_objectSpread({},_this.state.date);time=_objectSpread({},_this.state.time);firstName=input.firstName;lastName=input.lastName;date=input.date;time=input.time;_context7.next=10;return _this.setState({firstName:firstName,lastName:lastName,date:date,time:time});case 10:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x10){return _ref7.apply(this,arguments);};}();_this.handleNest=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(input){var eggCount,layTime,hatchEst,rehomed,salvageable,daten,timen;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:eggCount=_objectSpread({},_this.state.eggCount);layTime=_objectSpread({},_this.state.layTime);hatchEst=_objectSpread({},_this.state.hatchEst);rehomed=_objectSpread({},_this.state.rehomed);salvageable=_objectSpread({},_this.state.salvageable);daten=_objectSpread({},_this.state.daten);timen=_objectSpread({},_this.state.timen);eggCount=input.eggCount;layTime=input.layTime;hatchEst=input.hatchEst;rehomed=input.rehomed;salvageable=input.salvageable;daten=input.daten;timen=input.timen;_context8.next=16;return _this.setState({eggCount:eggCount,layTime:layTime,hatchEst:hatchEst,rehomed:rehomed,salvageable:salvageable,daten:daten,timen:timen});case 16:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x11){return _ref8.apply(this,arguments);};}();_this.handleLab=function(input){var salvageable=_objectSpread({},_this.state.salvageable);salvageable=input.salvageable;_this.setState({salvageable:salvageable});};_this.checkTurtleData=function(){var hasTurtle=_objectSpread({},_this.state.hasTurtle);var turtle={species:_this.state.species,gender:_this.state.gender,conditionstat:_this.state.conditionstat,conditionstage:_this.state.conditionstage,dimensionsPl:_this.state.dimensionsPl,dimensionsPw:_this.state.dimensionsPw,dimensionsCl:_this.state.dimensionsCl,dimensionsCw:_this.state.dimensionsCw,markingsRs:_this.state.markingsRs,markingsLs:_this.state.markingsLs};hasTurtle=Object.keys(turtle).some(function(k){return turtle[k]!==null;});_this.setState({hasTurtle:hasTurtle});};_this.checkNest=function(){var hasNest=_objectSpread({},_this.state.hasNest);var nest=_defineProperty({eggCount:_this.state.eggCount,layTime:_this.state.layTime,hatchEst:_this.state.hatchEst,rehomed:_this.state.rehomed,salvageable:_this.state.salvageable},\"layTime\",_this.state.daten);hasNest=Object.keys(nest).some(function(k){return nest[k]!==null;});_this.setState({hasNest:hasNest});};_this.handleGender=function(input){var gender=_objectSpread({},_this.state.gender);gender=input;_this.setState({gender:gender});};_this.handleComments=function(input){var comments=_objectSpread({},_this.state.comments);comments=input;_this.setState({comments:comments});};_this.submitNewForm=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(shift,observation,turtle,nest){var firstName,lastName,form,response,savedForms;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _this.checkTurtleData();case 2:_context9.next=4;return _this.checkNest();case 4:firstName=_this.state.firstName||localStorage.getItem(\"firstName\");lastName=_this.state.lastName||localStorage.getItem(\"lastName\");if(firstName&&lastName){_context9.next=8;break;}return _context9.abrupt(\"return\",alert(\"Please enter your first and last name\"));case 8:if(_this.state.selectedBeach){_context9.next=10;break;}return _context9.abrupt(\"return\",alert(\"Please select a beach\"));case 10:form={shift:{firstName:firstName,lastName:lastName},observation:{date:Date(_this.state.date),location:_this.state.selectedBeach,moonPhase:'First Quarter',tide:'low-to-high',comments:_this.state.comments},turtle:{condition:{status:_this.state.conditionstat,stage:_this.state.conditionstage},dimensions:{plain:{length:_this.state.dimensionsPl,width:_this.state.dimensionsPw},curve:{length:_this.state.dimensionsCl,width:_this.state.dimensionsCw}},markings:{rightSide:_this.state.markingsRs,leftSide:_this.state.markingsLs},hasData:_this.state.hasTurtle,species:_this.state.species,gender:_this.state.gender},nest:{hasData:_this.state.hasNest,layTime:_this.state.daten,eggCount:_this.state.eggCount,hatchEst:_this.state.daten,rehomed:_this.state.rehomed,salvageable:_this.state.salvageable}};if(!navigator.onLine){_context9.next=20;break;}_context9.next=14;return axios.post(\"\".concat(dinamicRoute,\"/mega-form\"),form);case 14:response=_context9.sent;console.log(response);console.log('new form saved!');alert('Successfully submitted');_context9.next=25;break;case 20:savedForms=JSON.parse(localStorage.getItem(\"savedForms\")||\"[]\");savedForms.push(form);localStorage.setItem('savedForms',JSON.stringify(savedForms));console.log(\"Saved form locally for later post\");alert('Cannot submit, will try again later');case 25:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x12,_x13,_x14,_x15){return _ref9.apply(this,arguments);};}();_this.handleExpandClick=function(event){var showFpart=true;_this.setState({showFpart:showFpart});};_this.state={locationLatitude:\"\",// set-up by beach selection\nlocationLongitude:\"\",// set-up by beach selection\nselectedBeach:\"\",firstName:null,lastName:null,date:null,time:\"\",species:null,gender:null,conditionstat:null,conditionstage:null,dimensionsPl:null,dimensionsPw:null,dimensionsCl:null,dimensionsCw:null,markingsRs:null,markingsLs:null,comments:\"\",showNest:null,showFpart:false,hasTurtle:null,hasNest:null,eggCount:null,layTime:null,hatchEst:null,rehomed:null,salvageable:null,daten:null,timen:null};return _this;}_createClass(Form,[{key:\"render\",value:function render(){var t=this.props.t;if(!this.props.isLoggedIn()){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}return/*#__PURE__*/React.createElement(\"div\",{id:\"formContainer\"},/*#__PURE__*/React.createElement(\"h1\",null,t('TORTUGA WATCH FORM')),/*#__PURE__*/React.createElement(\"div\",{id:\"beachButton\"},/*#__PURE__*/React.createElement(BeachLocations,{handleBeachInput:this.handleBeachInput})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(ExpansionPanel,{className:\"shift\"},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1c-content\",id:\"shift\"// style={{border: '10px'}}\n},/*#__PURE__*/React.createElement(\"div\",{className:\"helptext\"},/*#__PURE__*/React.createElement(Typography,{className:\"Shift\",variant:\"h6\",component:\"h6\"},t('Shift')))),/*#__PURE__*/React.createElement(ShiftInput,{forms:this.state.forms,handleName:this.handleName,handleDate:this.handleDate}),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(ExpansionPanel,{TransitionProps:{unmountOnExit:true}},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1c-content\",id:\"turtles\"},/*#__PURE__*/React.createElement(\"div\",{className:\"helptext\"},/*#__PURE__*/React.createElement(Typography,{className:\"turtles\",variant:\"h6\",component:\"h6\"},t('Turtle Information')))),/*#__PURE__*/React.createElement(Turtle,{handleGender:this.handleGender,handleCondition:this.handleCondition,handleSpecies:this.handleSpecies,forms:this.state.forms,handleTurtInput:this.state.handleTurtInput,handleDimentions:this.handleDimentions})),/*#__PURE__*/React.createElement(ExpansionPanel,{TransitionProps:{unmountOnExit:true}},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1c-content\",id:\"turtles\"},/*#__PURE__*/React.createElement(\"div\",{className:\"helptext\"},/*#__PURE__*/React.createElement(Typography,{className:\"nests\",variant:\"h6\",component:\"h6\"},t('Nest Information')))),/*#__PURE__*/React.createElement(NestInput,{forms:this.state.forms,handleNest:this.handleNest})),/*#__PURE__*/React.createElement(Comments,{handleComments:this.handleComments}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",style:{backgroundColor:'#09bc8a',opacity:0.9,marginLeft:'0.2em',marginTop:'0.1em'},size:\"medium\",className:\"submit\",onClick:this.submitNewForm,margin:\"normal\"},t(' Submit ')));}}]);return Form;}(Component);export default withTranslation('translation')(Form);","map":{"version":3,"sources":["C:/Users/corne/Unsyncro/WorkOfficeFREE/CodingLab/challenge0921/src/Components/Form/Form.js"],"names":["React","Component","ShiftInput","Turtle","NestInput","Button","withTranslation","Typography","ExpansionPanel","ExpansionPanelSummary","ExpandMoreIcon","FontAwesomeIcon","faSave","BeachLocations","Comments","Redirect","constant","axios","require","dinamicRoute","window","location","host","includes","LOCAL_GET","PROD_GET","Form","props","handleBeachInput","input","locationLatitude","state","locationLongitude","selectedBeach","setState","handleSpecies","species","handleCondition","conditionstage","conditionstat","charAt","handleName","first","last","firstName","lastName","localStorage","setItem","handleDimentions","id","value","key","handleDate","date","time","handleShift","handleNest","eggCount","layTime","hatchEst","rehomed","salvageable","daten","timen","handleLab","checkTurtleData","hasTurtle","turtle","gender","dimensionsPl","dimensionsPw","dimensionsCl","dimensionsCw","markingsRs","markingsLs","Object","keys","some","k","checkNest","hasNest","nest","handleGender","handleComments","comments","submitNewForm","shift","observation","getItem","alert","form","Date","moonPhase","tide","condition","status","stage","dimensions","plain","length","width","curve","markings","rightSide","leftSide","hasData","navigator","onLine","post","response","console","log","savedForms","JSON","parse","push","stringify","handleExpandClick","event","showFpart","showNest","t","isLoggedIn","forms","unmountOnExit","handleTurtInput","backgroundColor","opacity","marginLeft","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ShiftInput from './ShiftInput';\r\nimport Turtle from './Turtle';\r\nimport NestInput from './NestInput';\r\nimport Button from '@material-ui/core/Button';\r\nimport './form.css';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { Typography } from '@material-ui/core';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSave } from '@fortawesome/free-solid-svg-icons'\r\nimport BeachLocations from './BeachLocations';\r\nimport Comments from './ObservationComments';\r\nimport { Redirect } from 'react-router-dom';\r\nimport * as constant from './constant'\r\n\r\nconst axios = require('axios');\r\n\r\nconst dinamicRoute = (\r\n    window.location.host.includes(\"localhost\") ?\r\n        constant.LOCAL_GET : constant.PROD_GET\r\n)\r\n\r\nclass Form extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            locationLatitude: \"\",  // set-up by beach selection\r\n            locationLongitude: \"\", // set-up by beach selection\r\n            selectedBeach: \"\",\r\n            firstName: null,\r\n            lastName: null,\r\n            date: null,\r\n            time: \"\",\r\n            species: null,\r\n            gender: null,\r\n            conditionstat: null,\r\n            conditionstage: null,\r\n            dimensionsPl: null,\r\n            dimensionsPw: null,\r\n            dimensionsCl: null,\r\n            dimensionsCw: null,\r\n            markingsRs: null,\r\n            markingsLs: null,\r\n            comments: \"\",\r\n            showNest: null,\r\n            showFpart: false,\r\n            hasTurtle: null,\r\n            hasNest: null,\r\n            eggCount: null,\r\n            layTime: null,\r\n            hatchEst: null,\r\n            rehomed: null,\r\n            salvageable: null,\r\n            daten: null,\r\n            timen: null,\r\n        }\r\n    }\r\n\r\n    handleBeachInput = async (input) => {\r\n        let locationLatitude = { ...this.state.locationLatitude }\r\n        let locationLongitude = { ...this.state.locationLongitude }\r\n        let selectedBeach = { ...this.state.selectedBeach }\r\n        locationLatitude = input.locationLatitude\r\n        locationLongitude = input.locationLongitude\r\n        selectedBeach = input.selectedBeach\r\n        await this.setState({ locationLatitude, locationLongitude, selectedBeach })\r\n    }\r\n    handleSpecies = async (input) => {\r\n        let species = { ...this.state.species }\r\n        species = input\r\n        await this.setState({ species })\r\n    }\r\n    handleCondition = async (input) => {\r\n        let conditionstage = { ...this.state.conditionstage }\r\n        let conditionstat = { ...this.state.conditionstat }\r\n        conditionstage = input\r\n        conditionstat = (input.charAt(0) == \"a\") ? 'Alive' : 'Death'\r\n        await this.setState({ conditionstage, conditionstat })\r\n    }\r\n    handleName = async (first, last) => {\r\n        let firstName = { ...this.state.firstName }\r\n        let lastName = { ...this.state.lastName }\r\n        firstName = first\r\n        lastName = last\r\n        await this.setState({ firstName, lastName })\r\n        localStorage.setItem('firstName', this.state.firstName)\r\n        localStorage.setItem('lastName', this.state.lastName)\r\n    }\r\n\r\n    handleDimentions = async (id, value) => {\r\n        let key = id\r\n\r\n        await this.setState({ [key]: value })\r\n    }\r\n\r\n    handleDate = async (first, last) => {\r\n        let date = { ...this.state.date }\r\n        let time = { ...this.state.time }\r\n        date = first\r\n        time = last\r\n        await this.setState({ date, time })\r\n    }\r\n    handleShift = async (input) => {\r\n        let firstName = { ...this.state.firstName }\r\n        let lastName = { ...this.state.lastName }\r\n        let date = { ...this.state.date }\r\n        let time = { ...this.state.time }\r\n        firstName = input.firstName\r\n        lastName = input.lastName\r\n        date = input.date\r\n        time = input.time\r\n        await this.setState({ firstName, lastName, date, time })\r\n    }\r\n    handleNest = async (input) => {\r\n        let eggCount = { ...this.state.eggCount }\r\n        let layTime = { ...this.state.layTime }\r\n        let hatchEst = { ...this.state.hatchEst }\r\n        let rehomed = { ...this.state.rehomed }\r\n        let salvageable = { ...this.state.salvageable }\r\n        let daten = { ...this.state.daten }\r\n        let timen = { ...this.state.timen }\r\n        eggCount = input.eggCount\r\n        layTime = input.layTime\r\n        hatchEst = input.hatchEst\r\n        rehomed = input.rehomed\r\n        salvageable = input.salvageable\r\n        daten = input.daten\r\n        timen = input.timen\r\n        await this.setState({ eggCount, layTime, hatchEst, rehomed, salvageable, daten, timen })\r\n    }\r\n    handleLab = (input) => {\r\n        let salvageable = { ...this.state.salvageable }\r\n        salvageable = input.salvageable\r\n        this.setState({ salvageable })\r\n    }\r\n\r\n    checkTurtleData = () => {\r\n        let hasTurtle = { ...this.state.hasTurtle }\r\n        let turtle = {\r\n            species: this.state.species, gender: this.state.gender,\r\n            conditionstat: this.state.conditionstat,\r\n            conditionstage: this.state.conditionstage,\r\n            dimensionsPl: this.state.dimensionsPl,\r\n            dimensionsPw: this.state.dimensionsPw,\r\n            dimensionsCl: this.state.dimensionsCl,\r\n            dimensionsCw: this.state.dimensionsCw,\r\n            markingsRs: this.state.markingsRs,\r\n            markingsLs: this.state.markingsLs,\r\n        }\r\n\r\n        hasTurtle = Object.keys(turtle).some(function (k) {\r\n            return turtle[k] !== null\r\n        })\r\n\r\n        this.setState({\r\n            hasTurtle\r\n        })\r\n    }\r\n    checkNest = () => {\r\n        let hasNest = { ...this.state.hasNest }\r\n        let nest = {\r\n            eggCount: this.state.eggCount,\r\n            layTime: this.state.layTime,\r\n            hatchEst: this.state.hatchEst,\r\n            rehomed: this.state.rehomed,\r\n            salvageable: this.state.salvageable,\r\n            layTime: this.state.daten,\r\n        }\r\n\r\n        hasNest = Object.keys(nest).some(function (k) {\r\n            return nest[k] !== null\r\n        })\r\n\r\n        this.setState({\r\n            hasNest\r\n        })\r\n    }\r\n\r\n    handleGender = (input) => {\r\n        let gender = { ...this.state.gender }\r\n        gender = input\r\n        this.setState({\r\n            gender\r\n        })\r\n    }\r\n\r\n    handleComments = (input) => {\r\n        let comments = { ...this.state.comments }\r\n        comments = input\r\n        this.setState({\r\n            comments\r\n        })\r\n    }\r\n\r\n    submitNewForm = async (shift, observation, turtle, nest) => {\r\n        await this.checkTurtleData()\r\n        await this.checkNest()\r\n\r\n        const firstName = this.state.firstName || localStorage.getItem(\"firstName\")\r\n        const lastName = this.state.lastName || localStorage.getItem(\"lastName\")\r\n\r\n        if(!(firstName && lastName)){\r\n            return alert (\"Please enter your first and last name\")\r\n        }\r\n\r\n        if(!this.state.selectedBeach){\r\n            return alert(\"Please select a beach\")\r\n        }\r\n\r\n        let form = {\r\n            shift: { firstName, lastName },\r\n            observation:\r\n            {\r\n                date: Date(this.state.date),\r\n                location: this.state.selectedBeach,\r\n                moonPhase: 'First Quarter',\r\n                tide: 'low-to-high',\r\n                comments: this.state.comments\r\n            },\r\n            turtle:\r\n            {\r\n                condition: { status: this.state.conditionstat, stage: this.state.conditionstage },\r\n                dimensions: { plain: { length: this.state.dimensionsPl, width: this.state.dimensionsPw }, curve: { length: this.state.dimensionsCl, width: this.state.dimensionsCw } },\r\n                markings: { rightSide: this.state.markingsRs, leftSide: this.state.markingsLs },\r\n                hasData: this.state.hasTurtle,\r\n                species: this.state.species,\r\n                gender: this.state.gender\r\n            },\r\n            nest:\r\n            {\r\n                hasData: this.state.hasNest,\r\n                layTime: this.state.daten,\r\n                eggCount: this.state.eggCount,\r\n                hatchEst: this.state.daten,\r\n                rehomed: this.state.rehomed,\r\n                salvageable: this.state.salvageable\r\n            },\r\n        }\r\n        if(navigator.onLine) {\r\n            const response = await axios.post(`${dinamicRoute}/mega-form`,  form )\r\n            console.log(response)\r\n            console.log('new form saved!')\r\n            alert('Successfully submitted')\r\n        }\r\n        else {\r\n            let savedForms = JSON.parse(localStorage.getItem(\"savedForms\") || \"[]\")\r\n            savedForms.push(form)\r\n            localStorage.setItem('savedForms', JSON.stringify(savedForms))\r\n            console.log(\"Saved form locally for later post\")\r\n            alert('Cannot submit, will try again later')\r\n        }\r\n    }\r\n\r\n    handleExpandClick = (event) => {\r\n        let showFpart = true\r\n        this.setState({ showFpart: showFpart })\r\n    };\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        if (!this.props.isLoggedIn()) { return <Redirect to=\"/\" /> }\r\n\r\n        return (\r\n\r\n            <div id=\"formContainer\" >\r\n                <h1>{t('TORTUGA WATCH FORM')}</h1>\r\n                <div id=\"beachButton\" >\r\n                    <BeachLocations handleBeachInput={this.handleBeachInput} />\r\n                </div>\r\n                <br />\r\n                <ExpansionPanel  className=\"shift\" >\r\n                    <ExpansionPanelSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1c-content\"\r\n                        id=\"shift\"\r\n                    // style={{border: '10px'}}\r\n\r\n                    >\r\n                        <div className=\"helptext\">\r\n                            <Typography className=\"Shift\" variant=\"h6\" component=\"h6\">{t('Shift')}</Typography>\r\n                        </div>\r\n                    </ExpansionPanelSummary>\r\n                    <ShiftInput forms={this.state.forms} handleName={this.handleName} handleDate={this.handleDate} />\r\n                    <br />\r\n                </ExpansionPanel>\r\n                <ExpansionPanel TransitionProps={{ unmountOnExit: true }}>\r\n                    <ExpansionPanelSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1c-content\"\r\n                        id=\"turtles\"\r\n                    >\r\n                        <div className=\"helptext\">\r\n                            <Typography className=\"turtles\" variant=\"h6\" component=\"h6\">{t('Turtle Information')}</Typography>\r\n                        </div>\r\n                    </ExpansionPanelSummary>\r\n                    <Turtle handleGender={this.handleGender} handleCondition={this.handleCondition} handleSpecies={this.handleSpecies} forms={this.state.forms} handleTurtInput={this.state.handleTurtInput}\r\n                        handleDimentions={this.handleDimentions} />\r\n                </ExpansionPanel>\r\n                <ExpansionPanel TransitionProps={{ unmountOnExit: true }}>\r\n                    <ExpansionPanelSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1c-content\"\r\n                        id=\"turtles\"\r\n                    >\r\n                        <div className=\"helptext\">\r\n                            <Typography className=\"nests\" variant=\"h6\" component=\"h6\">{t('Nest Information')}</Typography>\r\n                        </div>\r\n                    </ExpansionPanelSummary>\r\n                    <NestInput forms={this.state.forms} handleNest={this.handleNest} />\r\n                </ExpansionPanel>\r\n                <Comments handleComments={this.handleComments} />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={{ backgroundColor: '#09bc8a', opacity: 0.9, marginLeft: '0.2em', marginTop: '0.1em' }}\r\n                    size=\"medium\"\r\n                    className=\"submit\"\r\n                    onClick={this.submitNewForm}\r\n                    margin=\"normal\"\r\n                >\r\n                    {t(' Submit ')}\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default withTranslation('translation')(Form);"]},"metadata":{},"sourceType":"module"}