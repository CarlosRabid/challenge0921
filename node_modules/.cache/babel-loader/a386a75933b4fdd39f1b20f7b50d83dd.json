{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\corne\\\\Unsyncro\\\\WorkOfficeFREE\\\\CodingLab\\\\challenge0921\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter,Route,Redirect}from'react-router-dom';import{withTranslation}from'react-i18next';import NavBar from'./Components/NavBar';import Login from'./Components/Login';import Landing from'./Components/Landing';import Form from'./Components/Form/Form';import Spreadsheet from'./Components/Spreadsheet/Spreadsheet';import Analytics from'./Components/Analytics/Analytics';import'./App.css';import*as constant from'./Components/Form/constant';import Loader from'./Components/Loader';var axios=require('axios');var dinamicRoute=window.location.host.includes(\"localhost\")?constant.LOCAL_GET:constant.PROD_GET;var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.updateUser=function(name){_this.setState({userName:name});};_this.updateNavBar=function(location){_this.setState({location:location});};_this.changeLanguage=function(){var i18n=_this.props.i18n;if(_this.state.lng===\"en\"){i18n.changeLanguage(\"es\");return _this.setState({lng:\"es\"});}else{i18n.changeLanguage(\"en\");return _this.setState({lng:\"en\"});}};_this.isLoggedIn=function(){return localStorage.getItem(\"isLoggedIn\")||_this.state.userName;};_this.logOut=function(){_this.setState({isLoggedIn:false,userName:'',lng:\"en\"});localStorage.removeItem('isLoggedIn');};_this.state={location:\"\",userName:\"\",lng:\"en\",loadingData:true};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(navigator.onLine){var savedForms=JSON.parse(localStorage.getItem('savedForms')||\"[]\");if(savedForms.length<1){this.setState({loadingData:false});return;}axios.post(\"\".concat(dinamicRoute,\"/mega-forms\"),savedForms).then(function(response){localStorage.removeItem('savedForms');console.log('Sent saved forms to DB');_this2.setState({loadingData:false});});}else{console.log('there isnt anything sooo...');this.setState({loadingData:false});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(NavBar,{location:this.state.location,logOut:this.logOut,name:this.state.userName,updateNavBar:this.updateNavBar,lng:this.state.lng,changeLanguage:this.changeLanguage}),this.state.loadingData?/*#__PURE__*/React.createElement(Loader,null):null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,render:function render(){return _this3.isLoggedIn()?/*#__PURE__*/React.createElement(Redirect,{to:\"/home\"}):/*#__PURE__*/React.createElement(Login,{updateUser:_this3.updateUser});}}),/*#__PURE__*/React.createElement(Route,{path:\"/home\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(Landing,{updateNavBar:_this3.updateNavBar,isLoggedIn:_this3.isLoggedIn});}}),/*#__PURE__*/React.createElement(Route,{path:\"/form\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(Form,{updateNavBar:_this3.updateNavBar,isLoggedIn:_this3.isLoggedIn,saveForm:_this3.saveForm});}}),/*#__PURE__*/React.createElement(Route,{path:\"/spread\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(Spreadsheet,{updateNavBar:_this3.updateNavBar,isLoggedIn:_this3.isLoggedIn});}}),/*#__PURE__*/React.createElement(Route,{path:\"/analytics\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(Analytics,{updateNavBar:_this3.updateNavBar,isLoggedIn:_this3.isLoggedIn});}}))));}}]);return App;}(Component);export default withTranslation('translation')(App);","map":{"version":3,"sources":["C:/Users/corne/Unsyncro/WorkOfficeFREE/CodingLab/challenge0921/src/App.js"],"names":["React","Component","BrowserRouter","Route","Redirect","withTranslation","NavBar","Login","Landing","Form","Spreadsheet","Analytics","constant","Loader","axios","require","dinamicRoute","window","location","host","includes","LOCAL_GET","PROD_GET","App","updateUser","name","setState","userName","updateNavBar","changeLanguage","i18n","props","state","lng","isLoggedIn","localStorage","getItem","logOut","removeItem","loadingData","navigator","onLine","savedForms","JSON","parse","length","post","then","response","console","log","saveForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\r\nimport { withTranslation } from 'react-i18next';\r\nimport NavBar from './Components/NavBar';\r\nimport Login from './Components/Login';\r\nimport Landing from './Components/Landing';\r\nimport Form from './Components/Form/Form';\r\nimport Spreadsheet from './Components/Spreadsheet/Spreadsheet';\r\nimport Analytics from './Components/Analytics/Analytics';\r\nimport './App.css';\r\nimport * as constant from './Components/Form/constant'\r\nimport Loader from './Components/Loader';\r\nconst axios = require('axios')\r\nconst dinamicRoute = window.location.host.includes(\"localhost\") ? constant.LOCAL_GET : constant.PROD_GET\r\n\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      location: \"\",\r\n      userName: \"\",\r\n      lng: \"en\",\r\n      loadingData: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (navigator.onLine) {\r\n      let savedForms = JSON.parse(localStorage.getItem('savedForms') || \"[]\")\r\n\r\n      if (savedForms.length < 1) {\r\n        this.setState({ loadingData: false })\r\n        return\r\n      }\r\n\r\n      axios.post(`${dinamicRoute}/mega-forms`, savedForms).then((response) => {\r\n        localStorage.removeItem('savedForms')\r\n        console.log('Sent saved forms to DB')\r\n        this.setState({ loadingData: false })\r\n      })\r\n    }\r\n    else {\r\n      console.log('there isnt anything sooo...')\r\n      this.setState({ loadingData: false })\r\n    }\r\n  }\r\n\r\n  updateUser = (name) => {\r\n    this.setState({\r\n      userName: name\r\n    })\r\n  }\r\n  updateNavBar = (location) => {\r\n    this.setState({\r\n      location: location\r\n    })\r\n  }\r\n\r\n  changeLanguage = () => {\r\n    const { i18n } = this.props;\r\n    if (this.state.lng === \"en\") {\r\n\r\n      i18n.changeLanguage(\"es\");\r\n      return this.setState({ lng: \"es\" })\r\n    } else {\r\n      i18n.changeLanguage(\"en\")\r\n      return this.setState({ lng: \"en\" })\r\n    }\r\n  };\r\n\r\n  isLoggedIn = () => localStorage.getItem(\"isLoggedIn\") || this.state.userName\r\n\r\n  logOut = () => {\r\n    this.setState({\r\n      isLoggedIn: false,\r\n      userName: '',\r\n      lng: \"en\"\r\n    })\r\n    localStorage.removeItem('isLoggedIn')\r\n  }\r\n\r\n  render() {\r\n\r\n    return (<>\r\n      <div>\r\n\r\n        <BrowserRouter>\r\n\r\n          <NavBar location={this.state.location}\r\n            logOut={this.logOut}\r\n            name={this.state.userName}\r\n            updateNavBar={this.updateNavBar}\r\n            lng={this.state.lng}\r\n            changeLanguage={this.changeLanguage}>\r\n\r\n          </NavBar>\r\n\r\n          {this.state.loadingData ? <Loader /> : null}\r\n\r\n\r\n          <Route path=\"/\" exact render={() =>\r\n            (this.isLoggedIn() ?\r\n              <Redirect to=\"/home\" /> :\r\n              <Login updateUser={this.updateUser} />)}>\r\n          </Route>\r\n\r\n          <Route path=\"/home\" exact render={() =>\r\n            <Landing updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} />}>\r\n          </Route>\r\n\r\n          <Route path=\"/form\" exact render={() =>\r\n            <Form updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} saveForm={this.saveForm} />}>\r\n          </Route>\r\n\r\n          <Route path=\"/spread\" exact render={() =>\r\n            <Spreadsheet updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} />}>\r\n          </Route>\r\n\r\n          <Route path=\"/analytics\" exact render={() =>\r\n            <Analytics updateNavBar={this.updateNavBar} isLoggedIn={this.isLoggedIn} />}>\r\n          </Route>\r\n\r\n        </BrowserRouter>\r\n\r\n      </div></>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default withTranslation('translation')(App);"]},"metadata":{},"sourceType":"module"}